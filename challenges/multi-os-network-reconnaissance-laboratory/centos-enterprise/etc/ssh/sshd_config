# OpenSSH Server Configuration
# CentOS Enterprise Staging Server

Port 26
Protocol 2
HostKey /etc/ssh/ssh_host_rsa_key
HostKey /etc/ssh/ssh_host_ecdsa_key
HostKey /etc/ssh/ssh_host_ed25519_key

# Authentication
PermitRootLogin yes
PasswordAuthentication yes
PubkeyAuthentication yes
PermitEmptyPasswords yes
UsePAM yes

# Anonymous Access Configuration
Match User anonymous
    PasswordAuthentication no
    PubkeyAuthentication no
    PermitEmptyPasswords yes
    ForceCommand /bin/bash -c 'cd /opt/staging && exec /bin/bash'
    ChrootDirectory /opt/staging

# Logging
SyslogFacility AUTH
LogLevel INFO

# Connection settings
X11Forwarding yes
TCPKeepAlive yes
ClientAliveInterval 60
ClientAliveCountMax 3

# Banner
Banner /etc/ssh/banner.txt

Subsystem sftp /usr/libexec/openssh/sftp-server