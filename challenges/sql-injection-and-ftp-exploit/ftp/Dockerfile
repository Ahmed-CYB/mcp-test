FROM debian:bookworm-slim
RUN apt-get update && apt-get install -y vsftpd
RUN useradd -m ftpuser && echo 'ftpuser:password' | chpasswd
RUN mkdir -p /var/run/vsftpd/empty
COPY vsftpd.conf /etc/vsftpd.conf
COPY flag.txt /home/ftpuser/flag.txt
RUN chown ftpuser:ftpuser /home/ftpuser/flag.txt
EXPOSE 21
CMD ["/usr/sbin/vsftpd", "/etc/vsftpd.conf"]